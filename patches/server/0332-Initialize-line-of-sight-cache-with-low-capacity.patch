From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: M0diis <modestas.kazlauskas@ktu.edu>
Date: Fri, 19 Jan 2024 11:05:39 +0200
Subject: [PATCH] Initialize line of sight cache with low capacity


diff --git a/src/main/java/net/minecraft/world/entity/ai/sensing/Sensing.java b/src/main/java/net/minecraft/world/entity/ai/sensing/Sensing.java
index 02f2f46ccc48bb4d9bd08555818b0489f60d9f13..df58b705685e8211d67b7b162b07d81aee3e5652 100644
--- a/src/main/java/net/minecraft/world/entity/ai/sensing/Sensing.java
+++ b/src/main/java/net/minecraft/world/entity/ai/sensing/Sensing.java
@@ -7,8 +7,10 @@ import net.minecraft.world.entity.Mob;
 
 public class Sensing {
     private final Mob mob;
-    private final IntSet seen = new IntOpenHashSet();
-    private final IntSet unseen = new IntOpenHashSet();
+    // SlimyPurpur start - initialize line of sight cache with low capacity
+    private final IntSet seen = new IntOpenHashSet(2); // private final IntSet seen = new IntOpenHashSet();
+    private final IntSet unseen = new IntOpenHashSet(2); // private final IntSet unseen = new IntOpenHashSet();
+    // SlimyPurpur end - initialize line of sight cache with low capacity
 
     public Sensing(Mob owner) {
         this.mob = owner;
